<!DOCTYPE html>
<html lang="en">
<head>
    <style>
    input::-webkit-input-placeholder { /* WebKit browsers */
    color:    #fff;
    }
    input:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
        color:    #fff;
    }
    input::-moz-placeholder { /* Mozilla Firefox 19+ */
        color:    #fff;
    }
    input:-ms-input-placeholder { /* Internet Explorer 10+ */
        color:    #fff;
    }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.css'%}">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>UI</title>
    <script>
        //var str = document.getElementById("materialInput").value;
        //console.log(str);
        $(document).ready(function(){
            $("input").keypress(function(){
                setTimeout(function(){ $.ajax({                
                url: "get/ajax/friend",
                data: {"d": $("#materialInput").val()},
                dataType: "json",
                beforeSend: function(){
                    if(($("#materialInput").val()).length <= 3){
                        return false;
                    }
                return true;
                },
                success: function(result){                    
                    $("#table_body").html(result["d"]);                
                }
            }); 
        }, 1500);
            //$("#table_body").remove()                        
                                       
        });
        
        });

        
    </script>
    <style>
        #inner {
            background-color: #a63c1d;
        }
        #outer {
            background-color:#e4c60c;
        }
    </style>
</head>
<body style="width: 100%; height: 100%; background-color: #ffe016;">
    
    <div class="container" style="width: 100%; height: 100%; display: block; align-content: center;margin-top: 2%;">
            <div style="width: 80%; margin:auto; margin-bottom: 30px;">
            <form>
                {% csrf_token %}
                <input type="text" id="materialInput" style="height: 55px;  width: 100%; background-color: #8a3218; color: #fff;" name="materialInput;" placeholder="Search Books">
            </form>
            </div>
            <div id="table_body" style="margin-bottom: 25px;">
                
            </div>
            <div class="nbooks" style="display: block; margin: 0px 0px 30px 0px;">
                <div style="align-content:center; background-color:#e4c60c; padding: 0px 40px 30px 40px;">
                        <div class="row">
                            <h5 style="color: white; background-color: #8a3218; margin: 0px 0px 5px -14px; padding: 1px 10px 1px 10px;">NEWLY ADDED BOOKS!</h5>
                        </div>
                        <div class="row" style="background-color: #a63c1d; border-radius: 4px;">
                            <div class="col-3">
                                <img src="/static/res/{{mat.Material_image}}" alt="" srcset="" width="200px" height="250px"style="margin: 10px 10px 10px 30px;">
                            </div>
                            <div class="col">
                                <h3 style="width: 80%; color: white; margin: 30px 40px 10px 5px;">{{mat.Material_title}}</h3>
                                <h6 style="color: white; margin-left: 30px;">{{mat.Material_author.lastname}}, {{mat.Material_author.firstname}}</h6>
                                <p style="color: white; margin-left: 38px; margin-right: 38px; text-align: justify;">{{mat.Material_preface}}</p>
                                <p style="text-align: right; color: white; margin-right: 20px;"></p>
                            </div>
                        </div>
                </div>
            </div>
            <div style="display: block; margin: 30px 0px 0px 0px;">
            <div class="trends" style="align-content:center; background-color: #e4c60c; padding: 30px 30px 30px 30px;">
                <div style="background-color: #a63c1d;  border-radius: 4px;">
                    <div class="row">
                        <u style="color: white;"><b><h3 style="color: white; padding: 20px 0px 10px 50px ;">MOST BORROWED BOOKS OF THE MONTH</h3></b></u>
                    </div>
                    <div class="row">
                        {% for items in trends %}
                        {% if forloop.first %}
                        <div class="col-3">
                            <img src="/static/res/{{items.Borrow_material.Material_image}}" alt="" srcset="" width="140px" height="180px"style="margin: 10px 10px 10px 60px;">
                        </div>
                        {% endif %}
                        <div class="col" style="color: white; ">
                            
                            <div class="row" style="background-color: #8a3218; width: 100%; margin-bottom: 10px;">
                                <div class="col-1">
                                    <h3>#{{forloop.counter}}</h3>
                                </div>
                                <div class="col-8">
                                    <h5>{{items.Borrow_material.Material_title}}</h5>
                                </div>
                                <div class="col">
                                    <i>
                                    BORROWED {{items.Borrow_counter}}  TIMES <br>
                                    <span style="height: 10px; width: 10px; background-color: #00ff00; border-radius: 50%; display: inline-block;"></span>
                                    <span style="height: 10px; width: 10px; background-color: #cc6600; border-radius: 50%; display: inline-block;"></span>
                                    <span style="height: 10px; width: 10px; background-color: #00ff00; border-radius: 50%; display: inline-block;"></span>
                                    <span style="height: 10px; width: 10px; background-color: #cc6600; border-radius: 50%; display: inline-block;"></span>
                                    <!-- AVAILABLE                                     -->
                                    </i>
                                </div>
                            </div>
                            {% endfor %}                            
                        </div>
                    </div>
                </div>    
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</body>
</html>